<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Relat√≥rio</title>
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/128/6582/6582611.png">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
  </head>
  <body>
    <div class="container">
      <header>
        <div class="header-actions">
          <button class="btn-export" onclick="exportToPDF()">
            Exportar PDF
          </button>
        </div>
        
        <div class="font-selector">
          <label for="fontFamily">Fonte:</label>
          <select id="fontFamily" onchange="changeFont()">
            <option value="arial">Arial</option>
            <option value="times">Times New Roman</option>
            <option value="helvetica">Helvetica</option>
            <option value="georgia">Georgia</option>
            <option value="verdana">Verdana</option>
            <option value="courier">Courier New</option>
          </select>
        </div>
        
        <h1 contenteditable="true" data-placeholder="Digite o t√≠tulo do seu relat√≥rio aqui...">T√≠tulo do Relat√≥rio</h1>
        <p contenteditable="true" data-placeholder="Digite o nome do autor..." class="autor">Autor: Nome do Autor</p>
        <p contenteditable="true" data-placeholder="Digite o nome do professor..." class="professor">Professor: Nome do Professor</p>
        <p contenteditable="true" data-placeholder="Digite a data (ex: 15/12/2024)..." class="data">Data:</p>
        
        <div class="report-type-selector">
          <label for="reportType">Tipo de Relat√≥rio:</label>
          <select id="reportType" onchange="changeReportType()">
            <option value="detailed">Detalhado</option>
            <option value="simple">Simples</option>
          </select>
        </div>
        <nav class="nav-detailed">
          <a href="#introducao">Introdu√ß√£o</a>
          <a href="#desenvolvimento">Desenvolvimento</a>
          <a href="#consideracoes">Considera√ß√µes Finais</a>
          <a href="#referencias">Refer√™ncias</a>
        </nav>
        
      </header>
      
      <main>
        <div class = "ia-button">
          <div class="tooltip">
          <button class="btn-ia" onclick="generateReport()">
            <img src="https://img.icons8.com/ios/50/000000/artificial-intelligence.png"/>
          </button>
            <span class="tooltip-text">Gerar relat√≥rio com IA</span>
          </div>
        </div>
        <div class="loading" id="loading">
          <div class="spinner"></div>
          <p>Gerando PDF...</p>
        </div>
        
        <!-- Vers√£o Detalhada -->
        <div id="detailed-version">
          <div class="word-count-detailed" id="totalWordCount" style="text-align: center; margin-bottom: 20px; font-weight: bold; background: #e7f3ff; border-color: #b3d9ff;">Total: 0 palavras</div>
          
          <section id="introducao">
            <h2>Introdu√ß√£o</h2>
            <div class="word-count-detailed" id="wordCountIntroducao">0 palavras</div>
            <div class="editable" contenteditable="true" data-placeholder="Escreva aqui a introdu√ß√£o do seu relat√≥rio. Comece apresentando o tema, contexto e objetivos do trabalho. Considere incluir: contexto do problema, justificativa, objetivos gerais e espec√≠ficos, e metodologia utilizada.&#10;&#10;Exemplo de estrutura:&#10;‚Ä¢ Contexto do problema ou tema&#10;‚Ä¢ Justificativa para o estudo&#10;‚Ä¢ Objetivos gerais e espec√≠ficos&#10;‚Ä¢ Metodologia utilizada"></div>
          </section>
  
          <section id="desenvolvimento">
            <h2>Desenvolvimento</h2>
            <div class="word-count-detailed" id="wordCountDesenvolvimento">0 palavras</div>
            
            <div class="editable" contenteditable="true" data-placeholder="Desenvolva aqui o conte√∫do principal do seu relat√≥rio. Estruture em se√ß√µes claras:&#10;&#10;‚Ä¢ Descri√ß√£o do Contexto/Demanda: Detalhe o contexto ou a demanda escolhida, explicando as circunst√¢ncias que motivaram este estudo ou interven√ß√£o.&#10;&#10;‚Ä¢ Objetivos: Defina claramente os objetivos do atendimento, tanto os objetivos gerais quanto os espec√≠ficos.&#10;&#10;‚Ä¢ Possibilidades de Atua√ß√£o: Explore e analise as diferentes possibilidades de atua√ß√£o no caso, considerando alternativas e suas implica√ß√µes.&#10;&#10;‚Ä¢ Estudo de Caso: Apresente um exemplo pr√°tico que ilustre os conceitos discutidos ou demonstre a aplica√ß√£o das metodologias propostas.&#10;&#10;Seja objetivo e use linguagem t√©cnica apropriada."></div>
          </section>
  
          <section id="consideracoes">
            <h2>Considera√ß√µes Finais</h2>
            <div class="word-count-detailed" id="wordCountConsideracoes">0 palavras</div>
            <div class="editable" contenteditable="true" data-placeholder="Escreva aqui suas considera√ß√µes finais. Reflita sobre os resultados obtidos, aprendizados, limita√ß√µes do estudo e sugest√µes para trabalhos futuros. Esta se√ß√£o deve sintetizar as principais descobertas e conclus√µes do trabalho.&#10;&#10;Considere abordar:&#10;‚Ä¢ Principais descobertas ou conclus√µes&#10;‚Ä¢ Limita√ß√µes do estudo&#10;‚Ä¢ Sugest√µes para trabalhos futuros&#10;‚Ä¢ Impacto e relev√¢ncia dos resultados"></div>
          </section>
  
          <section id="referencias">
            <h2>Refer√™ncias Bibliogr√°ficas</h2>
            <div class="word-count-detailed" id="wordCountReferencias">0 palavras</div>
            <div class="editable" contenteditable="true" data-placeholder="Liste aqui todas as fontes consultadas seguindo as normas ABNT. Inclua livros, artigos, sites e outras refer√™ncias utilizadas no desenvolvimento do relat√≥rio.&#10;&#10;Exemplos de formata√ß√£o ABNT:&#10;‚Ä¢ SOBRENOME, Nome. T√≠tulo da obra. Edi√ß√£o. Local: Editora, ano.&#10;‚Ä¢ SOBRENOME, Nome. T√≠tulo do artigo. Nome do Peri√≥dico, local, volume(n√∫mero), p√°ginas, m√™s/ano.&#10;‚Ä¢ SOBRENOME, Nome. T√≠tulo do trabalho. Ano. Disserta√ß√£o (Mestrado) ou Tese (Doutorado) - Institui√ß√£o, local, ano."></div>
          </section>
        </div>
        
        <!-- Vers√£o Simples -->
        <div id="simple-version" class="simple-version">
          <section id="conteudo-geral">
            <h2>Conte√∫do do Relat√≥rio</h2>
            
            <div class="formatting-toolbar">
              <div class="word-count" id="wordCount">0 palavras</div>
            </div>
            
            <div class="editable" contenteditable="true" id="simpleContent" data-placeholder="Escreva aqui todo o conte√∫do do seu relat√≥rio de forma livre e organizada.&#10;&#10;Dicas de estrutura√ß√£o:&#10;‚Ä¢ Comece com uma introdu√ß√£o clara&#10;‚Ä¢ Desenvolva o tema principal&#10;‚Ä¢ Apresente an√°lises e discuss√µes&#10;‚Ä¢ Conclua com considera√ß√µes finais&#10;‚Ä¢ Inclua refer√™ncias se necess√°rio&#10;&#10;Use a barra de formata√ß√£o acima para destacar t√≠tulos, listas e cita√ß√µes importantes.&#10;&#10;Organize o texto em par√°grafos bem estruturados e use linguagem clara e objetiva."></div>
          </section>
        </div>
        <div id="modal-ia" class="modal">
          <div class="modal-content modal-ia-content">
            <div class="modal-header">
              <div class="modal-title">Assistente de IA para Relat√≥rios</div>
              <button class="close-modal" onclick="closeIAModal()">&times;</button>
            </div>
            <div class="modal-body">
              <div class="ia-options">
                <h3>Como voc√™ gostaria de criar seu relat√≥rio?</h3>
                
                <!-- Op√ß√£o de √Åudio -->
                <div class="ia-option audio-option">
                  <h4>üé§ Grava√ß√£o de √Åudio</h4>
                  <p>Grave um ou mais √°udios explicando seu relat√≥rio e a IA criar√° o conte√∫do para voc√™</p>
                  <div class="audio-notice" style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 10px; border-radius: 4px; margin-bottom: 15px; font-size: 12px; color: #856404;">
                    <strong>üí° Dica:</strong> Voc√™ pode gravar m√∫ltiplos √°udios. Cada grava√ß√£o ser√° transcrita separadamente e todas ser√£o combinadas na gera√ß√£o do relat√≥rio.
                  </div>
                  
                  <!-- Controles de Grava√ß√£o -->
                  <div class="audio-controls">
                    <div class="tooltip">
                      <button id="recordBtn" class="btn-record" onclick="toggleRecording()" aria-label="Iniciar grava√ß√£o">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                             viewBox="0 0 24 24" fill="none" stroke="currentColor"
                             stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                             aria-hidden="true" class="lucide lucide-mic">
                          <path d="M12 1v11"></path>
                          <rect x="8" y="1" width="8" height="14" rx="4"></rect>
                          <path d="M19 11a7 7 0 0 1-14 0"></path>
                          <line x1="12" y1="19" x2="12" y2="23"></line>
                          <line x1="8" y1="23" x2="16" y2="23"></line>
                        </svg>
                        <span class="sr-only">Iniciar Grava√ß√£o</span>
                      </button>
                      <span class="tooltip-text" id="recordTooltip">Clique para iniciar grava√ß√£o</span>
                    </div>
                    
                    <div class="recording-info">
                      <span id="recordingTime">00:00</span>
                      <div class="audio-visualizer" id="audioVisualizer"></div>
                    </div>
                  </div>
                  
                  <!-- Container para m√∫ltiplos √°udios -->
                  <div id="audioRecordingsContainer" class="audio-recordings-container">
                    <!-- Os √°udios gravados ser√£o inseridos aqui dinamicamente -->
                  </div>
                </div>
  
                <!-- Op√ß√£o de Texto -->
                <div class="ia-option text-option">
                  <h4>‚úçÔ∏è Descri√ß√£o por Texto</h4>
                  <p>Descreva completamente o que voc√™ quer no relat√≥rio. Seja espec√≠fico e inclua todos os detalhes necess√°rios.</p>
                  <div class="text-description-notice" style="background: #e7f3ff; border: 1px solid #b3d9ff; padding: 10px; border-radius: 4px; margin-bottom: 10px; font-size: 12px; color: #004085;">
                    <strong>üí° Voc√™ pode incluir:</strong>
                    <ul style="margin: 5px 0; padding-left: 20px;">
                      <li>Descri√ß√£o completa do relat√≥rio ou apenas t√≥picos espec√≠ficos</li>
                      <li>Links e URLs para refer√™ncias</li>
                      <li>Nomes de autores, livros ou artigos espec√≠ficos</li>
                      <li>Dados, estat√≠sticas ou informa√ß√µes espec√≠ficas</li>
                      <li>Estrutura desejada (introdu√ß√£o, desenvolvimento, conclus√£o, etc.)</li>
                    </ul>
                  </div>
                  <textarea id="textDescription" placeholder="Ex: Quero um relat√≥rio sobre sustentabilidade empresarial, incluindo conceitos b√°sicos, benef√≠cios, desafios e exemplos pr√°ticos. Usar como refer√™ncia o livro 'Green Business' de John Smith e o artigo dispon√≠vel em https://exemplo.com/sustentabilidade. Incluir dados da ONU sobre mudan√ßas clim√°ticas e casos de sucesso da empresa Patagonia..." rows="6"></textarea>
                </div>
  
                <!-- Configura√ß√µes -->
                <div class="ia-settings">
                  <h4>‚öôÔ∏è Configura√ß√µes do Relat√≥rio</h4>
                  <div class="settings-grid">
                    <div class="setting-item api-key-setting">
                      <label for="geminiApiKey">üîë Chave API Gemini:</label>
                      <div class="api-key-input-group">
                        <input type="password" id="geminiApiKey" placeholder="Cole sua chave API aqui..." maxlength="100">
                        <button type="button" id="toggleApiKey" class="btn-toggle-key" onclick="toggleApiKeyVisibility()" title="Mostrar/Ocultar chave">
                          üëÅÔ∏è
                        </button>
                      </div>
                      <div class="api-key-status" id="apiKeyStatus">
                        <span class="status-empty">Nenhuma chave configurada</span>
                      </div>
                      <div class="api-key-help">
                        <small>
                          üí° <strong>Como obter sua chave:</strong> 
                          <a href="https://aistudio.google.com/app/apikey" target="_blank" rel="noopener">
                            Clique aqui para obter uma chave gratuita do Google AI Studio
                          </a>
                        </small>
                      </div>
                    </div>
                    <div class="setting-item">
                      <label for="reportTopic">Tema Principal:</label>
                      <input type="text" id="reportTopic" placeholder="Ex: Sustentabilidade Empresarial">
                    </div>
                    <div class="setting-item">
                      <label for="reportLength">Tamanho:</label>
                      <select id="reportLength">
                        <option value="short">Curto (2-3 p√°ginas)</option>
                        <option value="medium" selected>M√©dio (4-6 p√°ginas)</option>
                        <option value="long">Longo (7-10 p√°ginas)</option>
                      </select>
                    </div>
                    <div class="setting-item">
                      <label for="academicLevel">N√≠vel Acad√™mico:</label>
                      <select id="academicLevel">
                        <option value="ensino-medio">Ensino M√©dio</option>
                        <option value="graduacao" selected>Gradua√ß√£o</option>
                        <option value="pos-graduacao">P√≥s-gradua√ß√£o</option>
                      </select>
                    </div>
                    <div class="setting-item">
                      <label for="reportStyle">Estilo:</label>
                      <select id="reportStyle">
                        <option value="formal" selected>Formal/Acad√™mico</option>
                        <option value="tecnico">T√©cnico</option>
                        <option value="didatico">Did√°tico</option>
                      </select>
                    </div>
                  </div>
                </div>
  
                <!-- Bot√£o de Gerar -->
                <div class="generate-section">
                  <div class="tooltip">
                    <button id="generateBtn" class="btn-generate" onclick="generateReportWithIA()">
                      <span id="generateIcon">ü§ñ</span>
                      <span id="generateText">Gerar Relat√≥rio com IA</span>
                    </button>
                    <span class="tooltip-text" id="generateTooltip">Processar conte√∫do e gerar relat√≥rio automaticamente</span>
                  </div>
                  <div class="generate-progress" id="generateProgress" style="display: none;">
                    <div class="progress-bar">
                      <div class="progress-fill"></div>
                    </div>
                    <p id="progressText">Analisando conte√∫do...</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  
    <!-- Footer -->
    <footer class="page-footer">
      <div class="footer-content">
        <p>&copy; 2025 Sistema de Relat√≥rios com IA</p>
        <button class="footer-info-btn" id="footerInfoBtn" type="button" onclick="showInfoModal()">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
               viewBox="0 0 24 24" fill="none" stroke="currentColor"
               stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="16" x2="12" y2="12"></line>
            <line x1="12" y1="8" x2="12.01" y2="8"></line>
          </svg>
          Sobre
        </button>
      </div>
    </footer>
  
    <!-- Bot√£o flutuante de ajuda -->
    <!--<button class="help-button" id="helpButton" onclick="showHelpModal()">!</button>-->
  
    <!-- Modal de ajuda -->
    <div class="modal" id="helpModal">
      <div class="modal-content">
        <div class="modal-header">
          <div class="modal-title">Dicas de Preenchimento</div>
          <button class="close-modal" onclick="closeHelpModal()">&times;</button>
        </div>
        <div class="modal-body" id="modalBody">
          <!-- Conte√∫do ser√° preenchido dinamicamente -->
        </div>
      </div>
    </div>
  
    <!-- Modal de Informa√ß√µes -->
    <div class="modal" id="infoModal">
      <div class="modal-content info-modal-content">
        <div class="modal-header">
          <div class="modal-title">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                 viewBox="0 0 24 24" fill="none" stroke="currentColor"
                 stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 style="margin-right: 8px; color: #007bff;">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="16" x2="12" y2="12"></line>
              <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
            Sobre o Sistema
          </div>
          <button class="close-modal" onclick="closeInfoModal()">&times;</button>
        </div>
        <div class="modal-body info-modal-body">
          <div class="info-section">
            <h3>ü§ñ Sistema de Relat√≥rios com IA</h3>
            <p>Uma ferramenta moderna e intuitiva para cria√ß√£o de relat√≥rios acad√™micos e profissionais com o poder da Intelig√™ncia Artificial.</p>
          </div>
  
          <div class="info-section">
            <h3>‚ú® Principais Funcionalidades</h3>
            <ul class="feature-list">
              <li>üìù Editor inteligente com duas vers√µes (Detalhada e Simples)</li>
              <li>üé§ Grava√ß√£o e transcri√ß√£o de √°udio com IA</li>
              <li>ü§ñ Gera√ß√£o autom√°tica de conte√∫do com Google Gemini</li>
              <li>üìÑ Exporta√ß√£o para PDF profissional</li>
              <li>üíæ Salvamento autom√°tico no navegador</li>
              <li>üì± Interface responsiva para mobile e desktop</li>
              <li>üé® M√∫ltiplas fontes e estilos de formata√ß√£o</li>
            </ul>
          </div>
  
          <div class="info-section">
            <h3>üë®‚Äçüíª Desenvolvido por</h3>
            <div class="developer-info">
              <div class="developer-avatar">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48"
                     viewBox="0 0 24 24" fill="none" stroke="currentColor"
                     stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                  <circle cx="12" cy="7" r="4"></circle>
                </svg>
              </div>
              <div class="developer-details">
                <h4>Giuseph De Luka Giangareli</h4>
                <p>Desenvolvedor Full Stack</p>
                <p class="developer-description">
                  Especialista em desenvolvimento web moderno, intelig√™ncia artificial e experi√™ncia do usu√°rio.
                </p>
              </div>
            </div>
          </div>
  
          <div class="info-section gratitude-section">
            <h3>üôè Agradecimento</h3>
            <div class="gratitude-content">
              <p><strong>Obrigado por usar nosso sistema!</strong></p>
              <p>Sua confian√ßa em nossa ferramenta nos motiva a continuar inovando e melhorando constantemente. 
                 Esperamos que este sistema torne seu trabalho mais eficiente e produtivo.</p>
              <p>Se voc√™ tem sugest√µes ou feedback, ficaremos muito felizes em ouvir!</p>
            </div>
          </div>
  
          <div class="page-footer">
            <div class="version-info">
              <span class="version-label">Vers√£o:</span>
              <span class="version-number">2.0.7</span>
              <span class="version-date">Agosto 2025</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Modal de Alerta Personalizado -->
    <div class="modal" id="customAlertModal">
      <div class="modal-content custom-alert-content">
        <div class="modal-header">
          <div class="modal-title" id="alertTitle">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                 viewBox="0 0 24 24" fill="none" stroke="currentColor"
                 stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 id="alertIcon" style="margin-right: 8px;">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="16" x2="12" y2="12"></line>
              <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
            <span id="alertTitleText">Alerta</span>
          </div>
          <button class="close-modal" onclick="closeCustomAlert()">&times;</button>
        </div>
        <div class="modal-body">
          <div id="alertMessage" class="alert-message">
            <!-- Mensagem ser√° inserida aqui -->
          </div>
        </div>
        <div class="modal-footer">
          <div class="alert-buttons" id="alertButtons">
            <!-- Bot√µes ser√£o inseridos aqui -->
          </div>
        </div>
      </div>
    </div>  
  <script src="script.js"></script>
</body>
</html>
